/*! For license information please see 702.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[702],{1377:(t,e,n)=>{n.d(e,{A:()=>i});var r=n(6314),o=n.n(r)()(function(t){return t[1]});o.push([t.id,".selected_credits[data-v-99f3192e]{font-weight:700;padding:10px;text-align:center}.seat_btn[data-v-99f3192e]{display:block;margin:10px auto 0}.modal{&[data-v-99f3192e]{align-items:center;backdrop-filter:blur(2px);background:#00000030;display:flex;height:100%;justify-content:center;position:absolute;top:0;width:100%;z-index:999999}.window{&[data-v-99f3192e]{background:linear-gradient(180deg,#292931,#18171d);border-radius:20px;overflow:hidden;padding:20px}input[data-v-99f3192e]{background:#18171c;border:1px solid #4b4855;border-radius:4px;color:#fff;font-size:20px;margin:20px auto;padding:10px;text-align:center}button[data-v-99f3192e],input[data-v-99f3192e]{display:block}button[data-v-99f3192e]{background:#edb258;border:0;border-radius:4px;margin:0 auto;padding:5px 10px}.head[data-v-99f3192e]{height:20px}.body[data-v-99f3192e]{padding:10px}}}",""]);const i=o},6702:(t,e,n)=>{n.r(e),n.d(e,{default:()=>R});var r=n(9726),o={class:"boxed"},i={class:"avatar_guard"},u=["src"],a={class:"player_name"},c={class:"player_login"},l={class:"change_name_button"};var s=n(3903),f=n(6278),p={key:0,class:"seat-window modal"},b={class:"window"},d={class:"body"};function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach(function(e){g(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function g(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=m(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==m(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const h={data:function(){return{credits:0}},mounted:function(){},methods:y(y({},(0,f.i0)("auth",["UpdateName"])),{},{seat:function(){this.$store.state.ui._modal_change_player_name=!1},storePublicName:function(){var t=this;this.UpdateName(this.user.public_name).then(function(e){t.$store.state.ui._modal_change_player_name=!1})}}),computed:y(y({},(0,f.L8)("auth",["User"])),{},{user:function(){return this.User},visible:function(){return this.$store.state.ui._modal_change_player_name}})};var O=n(5072),_=n.n(O),w=n(1377),j={insert:"head",singleton:!1};_()(w.A,j);w.A.locals;var k=n(6262);const P=(0,k.A)(h,[["render",function(t,e,n,o,i,u){return u.visible?((0,r.uX)(),(0,r.CE)("div",p,[(0,r.Lk)("div",b,[(0,r.Lk)("div",d,[e[2]||(e[2]=(0,r.Lk)("span",{style:{"text-align":"center",width:"100%",display:"block"}},"Публичное имя для рейтинга",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=function(t){return u.user.public_name=t}),name:"public_name"},null,512),[[r.Jo,u.user.public_name]]),(0,r.Lk)("button",{class:"btn primary seat_btn",onClick:e[1]||(e[1]=function(){return u.storePublicName&&u.storePublicName.apply(u,arguments)})},"Сохранить")])])])):(0,r.Q3)("",!0)}],["__scopeId","data-v-99f3192e"]]);var S={key:0},x={class:"tournament"},L={class:"background"},T={class:"title"},C={class:"descr"},E=["onClick"],N={key:1,class:"butt",style:{"text-align":"center"}},D=["onClick"];function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function X(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach(function(e){F(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function F(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=U(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==U(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof a?r:a,l=Object.create(c.prototype);return $(l,"_invoke",function(n,r,o){var i,a,c,l=0,s=o||[],f=!1,p={p:0,n:0,v:t,a:b,f:b.bind(t,4),d:function(e,n){return i=e,a=0,c=t,p.n=n,u}};function b(n,r){for(a=n,c=r,e=0;!f&&l&&!o&&e<s.length;e++){var o,i=s[e],b=p.p,d=i[2];n>3?(o=d===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=b&&((o=n<2&&b<i[1])?(a=0,p.v=r,p.n=i[1]):b<d&&(o=n<3||i[0]>r||r>d)&&(i[4]=n,i[5]=r,p.n=d,a=0))}if(o||n>1)return u;throw f=!0,r}return function(o,s,d){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&b(s,d),a=s,c=d;(e=a<2?t:c)||!f;){i||(a?a<3?(a>1&&(p.n=-1),b(a,c)):p.n=c:p.v=c);try{if(l=2,i){if(a||(o="next"),e=i[o]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,a<2&&(a=0)}else 1===a&&(e=i.return)&&e.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((e=(f=p.n<0)?c:n.call(r,p))!==u)break}catch(e){i=t,a=1,c=e}finally{l=1}}return{value:e,done:f}}}(n,o,i),!0),l}var u={};function a(){}function c(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):($(e={},r,function(){return this}),e),f=l.prototype=a.prototype=Object.create(s);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,$(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return c.prototype=l,$(f,"constructor",l),$(l,"constructor",c),c.displayName="GeneratorFunction",$(l,o,"GeneratorFunction"),$(f),$(f,o,"Generator"),$(f,r,function(){return this}),$(f,"toString",function(){return"[object Generator]"}),(W=function(){return{w:i,m:p}})()}function $(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}$=function(t,e,n,r){function i(e,n){$(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},$(t,e,n,r)}function G(t,e,n,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o)}function M(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function u(t){G(i,r,o,u,a,"next",t)}function a(t){G(i,r,o,u,a,"throw",t)}u(void 0)})}}const Q={data:function(){return{tournaments:[]}},mounted:function(){var t=this;this.getTournament().then(function(e){e&&(t.$store.state.loaded=!0,t.$router.push({name:"player"}))})},methods:{getTournament:function(){var t=this;return M(W().m(function e(){var n,r;return W().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,axios({method:"POST",url:"/tournament/get"});case 1:return n=e.v,r=n.data,t.tournaments=r.data,e.a(2,!0);case 2:return e.p=2,e.v,e.a(2,!1)}},e,null,[[0,2]])}))()},joinTournament:function(t){var e=this;return M(W().m(function n(){var r;return W().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,axios({method:"POST",url:"/tournament/"+t+"/join"});case 1:return r=n.v,r.data,e.tournaments.find(function(e){return e.id===t}).participant=!0,n.a(2,!0);case 2:return n.p=2,n.v,n.a(2,!1)}},n,null,[[0,2]])}))()},leaveTournament:function(t){var e=this;return M(W().m(function n(){var r;return W().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,axios({method:"POST",url:"/tournament/"+t+"/leave"});case 1:return r=n.v,r.data,e.tournaments.find(function(e){return e.id===t}).participant=!1,n.a(2,!0);case 2:return n.p=2,n.v,n.a(2,!1)}},n,null,[[0,2]])}))()}},computed:X(X({},(0,f.L8)("auth",["User"])),{},{user:function(){return this.User},visible:function(){return this.$store.state.state._change_name_modal.visible}})};function z(t){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(t)}function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(Object(n),!0).forEach(function(e){K(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function K(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=z(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==z(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const J={components:{Tournament:(0,k.A)(Q,[["render",function(t,e,n,o,i,u){return t.tournaments?((0,r.uX)(),(0,r.CE)("div",S,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.tournaments,function(t){return(0,r.uX)(),(0,r.CE)("div",x,[(0,r.Lk)("div",L,[(0,r.Lk)("div",T,(0,r.v_)(t.title),1),(0,r.Lk)("p",C,[(0,r.eW)(" Стек: "+(0,r.v_)(t.stack)+" ("+(0,r.v_)(t.small_blind)+"/"+(0,r.v_)(t.big_blind)+"/"+(0,r.v_)(t.ante)+")",1),e[0]||(e[0]=(0,r.Lk)("br",null,null,-1)),(0,r.eW)(" Buy-in: "+(0,r.v_)(t.buy_in)+"₽",1),e[1]||(e[1]=(0,r.Lk)("br",null,null,-1)),(0,r.eW)(" Re-Entry: "+(0,r.v_)(t.re_entry)+"₽",1),e[2]||(e[2]=(0,r.Lk)("br",null,null,-1)),(0,r.eW)(" Add-on: "+(0,r.v_)(t.add_on)+"₽",1),e[3]||(e[3]=(0,r.Lk)("br",null,null,-1)),e[4]||(e[4]=(0,r.Lk)("br",null,null,-1)),e[5]||(e[5]=(0,r.eW)(" Структура турнира:",-1)),e[6]||(e[6]=(0,r.Lk)("br",null,null,-1)),(0,r.eW)(" ➡️Уровни: "+(0,r.v_)(t.levels_start)+" - "+(0,r.v_)(t.levels_end)+" мин",1),e[7]||(e[7]=(0,r.Lk)("br",null,null,-1)),(0,r.eW)(" ➡️Поздняя регистрация: до "+(0,r.v_)(t.late_registration)+" ",1),e[8]||(e[8]=(0,r.Lk)("br",null,null,-1))]),t.participant?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("button",{key:0,onClick:function(e){return u.joinTournament(t.id)},class:"butt"},"Записаться",8,E)),t.participant?((0,r.uX)(),(0,r.CE)("div",N,"Вы записаны, ждем вас на игру!")):(0,r.Q3)("",!0),t.participant?((0,r.uX)(),(0,r.CE)("button",{key:2,onClick:function(e){return u.leaveTournament(t.id)},class:"butt"},"Отменить запись",8,D)):(0,r.Q3)("",!0)])])}),256))])):(0,r.Q3)("",!0)}]]),ChangeNameModal:P,LogoutButton:s.A},data:function(){return{login:null,password:null}},methods:{openChangeNameModal:function(){this.$store.state.ui._modal_change_player_name=!0}},computed:I(I({},(0,f.L8)("auth",["User"])),{},{TelegramData:function(){var t;return null!==(t=window.Telegram)&&void 0!==t?t:"null"},user:function(){return this.User}}),mounted:function(){console.log(this.user.pic)}},R=(0,k.A)(J,[["render",function(t,e,n,s,f,p){var b=(0,r.g2)("ChangeNameModal"),d=(0,r.g2)("Tournament");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.bF)(b),(0,r.Lk)("div",o,[(0,r.Lk)("div",i,[(0,r.Lk)("img",{class:"player_avatar",src:p.user.pic},null,8,u)]),(0,r.Lk)("div",a,(0,r.v_)(p.user.first_name)+" "+(0,r.v_)(p.user.last_name),1),e[1]||(e[1]=(0,r.Lk)("div",{class:"public_name_title"},"Игровой никнейм",-1)),(0,r.Lk)("div",c,(0,r.v_)(p.user.public_name),1),(0,r.Lk)("div",l,[(0,r.Lk)("button",{onClick:e[0]||(e[0]=function(){return p.openChangeNameModal&&p.openChangeNameModal.apply(p,arguments)})},"Изменить никнейм")]),(0,r.bF)(d)])],64)}]])}}]);